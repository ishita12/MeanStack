<h2> My Messages </h2>


<div class="row show-hide-message" *ngIf="message">
  <div [ngClass]="messageClass">
    {{ message }}
  </div>
</div>

<div *ngIf="!uuu">


  <div class="panel panel-primary" *ngFor="let user of usersList">

    <!-- Panel category -->
    <div>
    <div>
      <h3 class="panel-title">{{ user}}</h3> <button type="button" name="button" class="btn btn-success" (click)="takeUser(user)">Chat </button>
    </div>
  </div>
</div>

</div>

<br />

  <button type="button" name="button" class="btn btn-success" (click)="goBack()">Go Back </button>




<div *ngIf="userFound">

  <form>
{{uu}}


    <div *ngFor="let chat of myChats">
        <!-- Panel category -->
        <div >

          <h3 class="panel-title">{{ chat.sentBy }}</h3>
        </div>




        <!-- Panel category -->
        <div>
        <h3 class="panel-category">{{ chat.message }}</h3>
        </div>

          <a [routerLink]="['/delete-message/', chat._id]" *ngIf="uu === chat.sentBy"><button type="button" name="button" class="btn btn-sm btn-danger">Delete</button></a>

    </div>



    <button type="submit" name="button" class="btn btn-sm btn-info" (click)="onReply(receiver)">reply</button>


  </form>


</div>






<div *ngIf="msg">



  <form [formGroup]="cForm" (submit)="onSubmit(receiver)">

    <div class="form-group">

      <textarea name="chat" rows="8" cols="80" placeholder="*chat" class="form-control" formControlName="chat"></textarea>
      <ul class="help-block">
      </ul>

    </div>
  <button type="button" name="button" (click)="goBack()" class="btn btn-warning">Go Back</button>
    <button [disabled]="processing" type="submit" name="button" class="btn btn-sm btn-info">Send</button>

  </form>



</div>
